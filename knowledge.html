<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>知识岛屿 - 鹦鹉探险岛屿</title>
    <style>
      * { box-sizing: border-box; margin: 0; padding: 0; }
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
        min-height: 100vh;
        background: linear-gradient(180deg, #e6ecfa 0%, #f8e1f4 100%);
        color: #333;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
      }
      .phone-frame {
        width: 430px;
        height: 932px;
        background: white;
        border-radius: 40px;
        position: relative;
        overflow: hidden;
        border: 10px solid #1a1a1a;
        margin: 20px auto;
        position: fixed;
        top: 48%;
        left: 50%;
        transform: translate(-50%, -50%);
        box-shadow: 0 8px 32px #b3c6e740;
      }
      .phone-screen {
        height: 100%;
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
        background: #f7f8fa;
      }
      .main-content {
        padding: 0;
        min-height: min-content;
      }
      .header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        padding: 24px;
      }
      .header-title-wrapper {
        display: flex;
        flex-direction: column;
        gap: 2px;
      }
      .header-title-sub {
        font-size: 16px;
        color: #999;
        font-weight: 500;
      }
      .header-title-main {
        font-size: 28px;
        font-weight: 700;
        color: #111;
      }
      .header-bell {
        background: none;
        box-shadow: none;
        width: auto;
        height: auto;
        padding-top: 4px;
      }
      .header-bell svg {
        width: 28px;
        height: 28px;
        stroke: #333;
      }
      .characteristics-list {
        display: flex;
        flex-direction: column;
        gap: 20px;
      }
      .characteristic-item {
        display: flex;
        flex-direction: column;
        gap: 8px;
        opacity: 0;
        transform: translateY(20px);
        transition: opacity 0.6s ease-out, transform 0.6s ease-out;
      }
      .characteristic-item.is-visible {
        opacity: 1;
        transform: translateY(0);
      }
      .char-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      .char-title {
        display: flex;
        align-items: center;
        gap: 10px;
        font-size: 15px;
        font-weight: 600;
        color: #333;
      }
      .char-title img {
        width: 28px;
        height: 28px;
        flex-shrink: 0;
      }
      .char-percentage {
        font-size: 14px;
        font-weight: 600;
        color: #555;
      }
      .progress-bar-wrapper {
        width: 100%;
        height: 10px;
        background-color: #f0f2f5;
        border-radius: 5px;
        overflow: hidden;
        transition: transform 0.3s ease;
      }
      .characteristic-item:hover .progress-bar-wrapper {
        transform: scaleY(1.1);
      }
      .progress-bar {
        width: 0;
        height: 100%;
        border-radius: 5px;
        transition: width 1.2s cubic-bezier(0.22, 1, 0.36, 1);
        position: relative;
        overflow: hidden;
      }
      .progress-bar::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          100deg,
          rgba(255, 255, 255, 0) 0%,
          rgba(255, 255, 255, 0.4) 50%,
          rgba(255, 255, 255, 0) 100%
        );
        transform: translateX(-100%);
        animation: shimmer 2s infinite linear;
        opacity: 0;
        transition: opacity 0.4s ease;
      }
      @keyframes shimmer {
        from {
          transform: translateX(-100%);
        }
        to {
          transform: translateX(100%);
        }
      }
      .characteristic-item:hover .progress-bar::after,
      .characteristic-item:active .progress-bar::after {
        opacity: 1;
      }
      .content-card {
        background: #fff;
        border-radius: 24px;
        margin: 0 16px 16px 16px;
        padding: 20px;
        box-shadow: 0 8px 40px rgba(100, 100, 150, 0.08);
      }
      .tab-row {
        display: flex;
        gap: 12px;
        margin-bottom: 18px;
        overflow-x: auto;
        -ms-overflow-style: none;
        scrollbar-width: none;
      }
      .tab-row::-webkit-scrollbar {
        display: none;
      }
      .tab-btn {
        background: #f0f2f5;
        color: #555;
        border-radius: 16px;
        padding: 10px 20px;
        font-size: 15px;
        font-weight: 600;
        box-shadow: none;
        cursor: pointer;
        border: none;
        transition: background 0.2s, color 0.2s;
        outline: none;
        white-space: nowrap;
      }
      .tab-btn.active {
        background: #8B5CF6;
        color: #fff;
        font-weight: 700;
      }
      .ai-carousel {
        position: relative;
        width: 100%;
        height: 160px;
        margin-bottom: 8px;
        overflow: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .ai-slide {
        position: absolute;
        left: 0; top: 0; right: 0; bottom: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 100%;
        height: 100%;
        opacity: 0;
        transform: translateX(60px) scale(0.98);
        transition: all 0.5s cubic-bezier(.4,1.3,.5,1);
        z-index: 1;
        pointer-events: none;
      }
      .ai-slide.active {
        opacity: 1;
        transform: translateX(0) scale(1);
        z-index: 2;
        pointer-events: auto;
      }
      .ai-card {
        min-width: 0;
        width: 100%;
        height: 160px;
        background: linear-gradient(120deg, #f3eaff 0%, #e6f0ff 100%);
        border-radius: 22px;
        box-shadow: none;
        padding: 24px 18px;
        display: flex;
        flex-direction: column;
        align-items: stretch;
        transition: transform 0.2s;
        justify-content: space-between;
        position: relative;
      }
      .ai-card:hover {
        transform: scale(1.03);
      }
      .card-content {
        cursor: pointer;
      }
      .ai-title {
        font-size: 18px;
        font-weight: 700;
        color: #6d28d9;
        margin-bottom: 8px;
      }
      .ai-icon {
        font-size: 32px;
        margin-bottom: 8px;
      }
      .learn-slider {
        position: relative;
        height: 34px;
        width: 100%;
        cursor: grab;
        margin-top: 16px;
      }
      .slider-track {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: rgba(255, 255, 255, 0.4);
        backdrop-filter: blur(8px);
        -webkit-backdrop-filter: blur(8px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 17px;
        display: flex;
        align-items: center;
        padding-left: 44px;
        transition: all 0.3s ease;
      }
      .slider-text {
        color: #6d28d9;
        font-size: 14px;
        font-weight: 600;
        opacity: 0.7;
      }
      .slider-thumb {
        position: absolute;
        left: 2px;
        top: 2px;
        width: 30px;
        height: 30px;
        background: #fff;
        color: #8B5CF6;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        transition: left 0.3s ease;
        z-index: 2;
      }
      .slider-thumb:active {
        cursor: grabbing;
      }
      .slider-thumb svg {
        width: 16px;
        height: 16px;
      }
      .ai-card[data-completed="true"] .slider-track {
        background-color: rgba(139, 92, 246, 0.2);
        border-color: rgba(139, 92, 246, 0.3);
      }
      .ai-card[data-completed="true"] .slider-thumb {
        left: calc(100% - 32px);
        background-color: #8B5CF6;
        color: #fff;
      }
      .ai-card[data-completed="true"] .slider-text {
        color: #fff;
        opacity: 1;
      }
      .ai-carousel-dots {
        display: flex;
        justify-content: center;
        gap: 8px;
        margin-top: 8px;
      }
      .ai-carousel-dot {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: #e0e7ef;
        transition: background 0.2s;
      }
      .ai-carousel-dot.active {
        background: #8B5CF6;
      }
      .section-title-row {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 12px;
      }
      .section-title {
        font-size: 18px;
        color: #333;
        font-weight: 600;
      }
      .see-all-btn {
        font-size: 14px;
        color: #8B5CF6;
        background: none;
        border: none;
        cursor: pointer;
      }
      .game-scroll {
        display: flex;
        gap: 16px;
        overflow-x: auto;
        padding-bottom: 8px;
        -ms-overflow-style: none;
        scrollbar-width: none;
      }
      .game-scroll::-webkit-scrollbar {
        display: none;
      }
      .game-card {
        flex: 0 0 220px;
        background: #f7f8fa;
        border: 1px solid #f0f1f3;
        border-radius: 22px;
        box-shadow: none;
        padding: 20px 16px 16px 16px;
        display: flex;
        flex-direction: column;
        min-width: 180px;
      }
      .game-title {
        font-size: 16px;
        font-weight: 700;
        color: #8B5CF6;
        margin-bottom: 8px;
      }
      .game-desc {
        font-size: 14px;
        color: #555;
        line-height: 1.6;
      }
      @media (max-width: 480px) {
        .main-content { padding: 0; }
        .header { padding: 20px 16px 16px 16px; }
        .content-card { margin: 0 12px 12px 12px; padding: 16px; }
        .game-card { flex-basis: 70vw; min-width: 140px; }
      }
      .nav-bar {
        position: fixed;
        bottom: 16px;
        left: 50%;
        transform: translateX(-50%);
        background: white;
        padding: 8px 16px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-radius: 24px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        z-index: 1000;
        width: calc(100% - 32px);
        max-width: 420px;
        gap: 12px;
      }
      .nav-item {
        display: flex;
        flex-direction: row;
        align-items: center;
        gap: 6px;
        text-decoration: none;
        color: #666;
        font-size: 13px;
        padding: 6px 12px;
        border-radius: 14px;
        transition: all 0.3s ease;
        white-space: nowrap;
      }
      .nav-item.active {
        color: #8B5CF6;
        background: rgba(139, 92, 246, 0.1);
        min-width: max-content;
      }
      .nav-icon {
        width: 18px;
        height: 18px;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .nav-icon svg {
        width: 18px;
        height: 18px;
      }
      .nav-item:not(.active) span {
        display: none;
      }
      .nav-item.active span {
        display: block;
      }
      .modal-mask {
        position: fixed;
        left: 0; top: 0; right: 0; bottom: 0;
        background: rgba(0,0,0,0.18);
        z-index: 9999;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .modal-content {
        background: #fff;
        border-radius: 28px;
        box-shadow: 0 8px 32px #b7eaff50;
        padding: 32px 24px 24px 24px;
        min-width: 260px;
        max-width: 90vw;
        max-height: 80vh;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        position: relative;
        animation: modalIn 0.2s;
      }
      @keyframes modalIn {
        from { opacity: 0; transform: scale(0.95); }
        to { opacity: 1; transform: scale(1); }
      }
      .modal-title {
        font-size: 20px;
        font-weight: 700;
        color: #6d28d9;
        margin-bottom: 12px;
      }
      .modal-desc {
        font-size: 15px;
        color: #333;
        line-height: 1.7;
      }
      .modal-close {
        position: absolute;
        right: 18px;
        top: 18px;
        background: none;
        border: none;
        font-size: 22px;
        color: #bbb;
        cursor: pointer;
      }

      /* Comic Modal Styles */
      .comic-modal {
        position: fixed;
        inset: 0;
        z-index: 10001;
        background: linear-gradient(160deg, rgba(245, 240, 255, 0.9) 0%, rgba(235, 248, 255, 0.9) 100%);
        backdrop-filter: blur(12px) saturate(150%);
        -webkit-backdrop-filter: blur(12px) saturate(150%);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s ease;
      }
      .comic-modal.visible {
        opacity: 1;
        pointer-events: auto;
      }
      .comic-close-btn {
        position: absolute;
        top: 40px;
        right: 20px;
        background: rgba(255, 255, 255, 0.5);
        border: 1px solid rgba(0, 0, 0, 0.05);
        color: #555;
        font-size: 28px;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        cursor: pointer;
        z-index: 10;
        line-height: 38px;
        text-align: center;
        transition: all 0.2s ease;
      }
      .comic-close-btn:hover {
        background: rgba(255, 255, 255, 0.8);
        transform: scale(1.1);
      }
      .comic-carousel-wrapper {
        width: 100%;
        overflow: hidden;
        flex-grow: 1;
        display: flex;
        align-items: center;
      }
      .comic-track {
        display: flex;
        transition: transform 0.4s cubic-bezier(0.25, 1, 0.5, 1);
      }
      .comic-slide {
        flex: 0 0 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 0 20px;
      }
      .comic-slide img {
        max-width: 100%;
        max-height: 90%;
        object-fit: contain;
        border-radius: 12px;
        box-shadow: 0 12px 32px rgba(50, 50, 100, 0.15);
      }
      .comic-footer {
        flex-shrink: 0;
        padding: 20px;
        width: 100%;
        box-sizing: border-box;
      }
      .comic-narration {
        color: #444;
        font-size: 15px;
        line-height: 1.6;
        text-align: center;
        padding: 0 20px;
        max-height: 100px;
        overflow-y: auto;
      }
      .comic-dots {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin-top: 16px;
      }
      .comic-dot {
        width: 9px;
        height: 9px;
        border-radius: 50%;
        background: rgba(0, 0, 0, 0.15);
        transition: all 0.3s ease;
      }
      .comic-dot.active {
        background: #8B5CF6;
        width: 24px;
        border-radius: 5px;
      }
    </style>
  </head>
  <body>
    <div class="phone-frame">
      <div class="phone-screen">
        <div class="main-content">
          <header class="header">
            <div class="header-title-wrapper">
              <span class="header-title-sub">Welcome to</span>
              <span class="header-title-main">知识岛屿</span>
            </div>
            <div class="header-bell">
              <svg viewBox="0 0 24 24" fill="none"><path d="M18 16v-5a6 6 0 10-12 0v5l-1.29 1.29A1 1 0 006 19h12a1 1 0 00.71-1.71L18 16z" stroke-width="2"/></svg>
            </div>
          </header>
          <div class="content-card">
            <div class="characteristics-list">
              <div class="characteristic-item">
                <div class="char-header">
                  <div class="char-title">
                    <img src="image/yingwutype/问问鹦鹉.png" alt="问问鹦鹉">
                    <span>问问鹦鹉</span>
                  </div>
                  <span class="char-percentage">75%</span>
                </div>
                <div class="progress-bar-wrapper">
                  <div class="progress-bar" data-width="75" style="background-color: #88D87C;"></div>
                </div>
              </div>
              <div class="characteristic-item">
                <div class="char-header">
                  <div class="char-title">
                    <img src="image/yingwutype/学学鹦鹉.png" alt="学学鹦鹉">
                    <span>学学鹦鹉</span>
                  </div>
                  <span class="char-percentage">60%</span>
                </div>
                <div class="progress-bar-wrapper">
                  <div class="progress-bar" data-width="60" style="background-color: #74B9FF;"></div>
                </div>
              </div>
              <div class="characteristic-item">
                <div class="char-header">
                  <div class="char-title">
                    <img src="image/yingwutype/猜猜鹦鹉.png" alt="猜猜鹦鹉">
                    <span>猜猜鹦鹉</span>
                  </div>
                  <span class="char-percentage">85%</span>
                </div>
                <div class="progress-bar-wrapper">
                  <div class="progress-bar" data-width="85" style="background-color: #FFD166;"></div>
                </div>
              </div>
              <div class="characteristic-item">
                <div class="char-header">
                  <div class="char-title">
                    <img src="image/yingwutype/试试鹦鹉.png" alt="试试鹦鹉">
                    <span>试试鹦鹉</span>
                  </div>
                  <span class="char-percentage">40%</span>
                </div>
                <div class="progress-bar-wrapper">
                  <div class="progress-bar" data-width="40" style="background-color: #FF8A65;"></div>
                </div>
              </div>
            </div>
          </div>
          <div class="content-card">
            <div class="tab-row">
              <button class="tab-btn active">全部</button>
              <button class="tab-btn">AI是什么</button>
              <button class="tab-btn">AI怎么用</button>
              <button class="tab-btn">AI的影响</button>
            </div>
            <div class="ai-carousel" id="aiCarousel">
              <div class="ai-slide active">
                <div class="ai-card" data-completed="false">
                  <div class="card-content" onclick="showComicModal()">
                    <div class="ai-icon">💡</div>
                    <div class="ai-title">什么是信息茧房？</div>
                  </div>
                  <div class="learn-slider">
                    <div class="slider-track"><span class="slider-text">滑动来学习</span></div>
                    <div class="slider-thumb">
                      <div class="icon-play"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M5.536 21.886a1.004 1.004 0 0 0 1.033-.064l13-9a1 1 0 0 0 0-1.644l-13-9A1 1 0 0 0 5 3v18a1 1 0 0 0 .536.886z"></path></svg></div>
                      <div class="icon-check" style="display: none;"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6L9 17l-5-5"></path></svg></div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="ai-slide">
                <div class="ai-card" data-completed="false">
                  <div class="card-content" onclick="showAiBoundaryComic()">
                    <div class="ai-icon">🚀</div>
                    <div class="ai-title">AI帮助突破能力边界</div>
                  </div>
                  <div class="learn-slider" style="height: 34px !important;">
                    <div class="slider-track"><span class="slider-text">滑动来学习</span></div>
                    <div class="slider-thumb">
                      <div class="icon-play"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M5.536 21.886a1.004 1.004 0 0 0 1.033-.064l13-9a1 1 0 0 0 0-1.644l-13-9A1 1 0 0 0 5 3v18a1 1 0 0 0 .536.886z"></path></svg></div>
                      <div class="icon-check" style="display: none;"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6L9 17l-5-5"></path></svg></div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="ai-slide">
                <div class="ai-card" data-completed="false">
                  <div class="card-content" onclick="showAiCreativityComic()">
                    <div class="ai-icon">🎨</div>
                    <div class="ai-title">AI缺乏创造力</div>
                  </div>
                  <div class="learn-slider" style="height: 34px !important;">
                    <div class="slider-track"><span class="slider-text">滑动来学习</span></div>
                    <div class="slider-thumb">
                      <div class="icon-play"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M5.536 21.886a1.004 1.004 0 0 0 1.033-.064l13-9a1 1 0 0 0 0-1.644l-13-9A1 1 0 0 0 5 3v18a1 1 0 0 0 .536.886z"></path></svg></div>
                      <div class="icon-check" style="display: none;"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6L9 17l-5-5"></path></svg></div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="ai-slide">
                <div class="ai-card" data-completed="false">
                  <div class="card-content" onclick="showCognitiveOverloadComic()">
                    <div class="ai-icon">🧠</div>
                    <div class="ai-title">认知过载</div>
                  </div>
                  <div class="learn-slider" style="height: 34px !important;">
                    <div class="slider-track"><span class="slider-text">滑动来学习</span></div>
                    <div class="slider-thumb">
                      <div class="icon-play"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M5.536 21.886a1.004 1.004 0 0 0 1.033-.064l13-9a1 1 0 0 0 0-1.644l-13-9A1 1 0 0 0 5 3v18a1 1 0 0 0 .536.886z"></path></svg></div>
                      <div class="icon-check" style="display: none;"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6L9 17l-5-5"></path></svg></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="ai-carousel-dots" id="aiCarouselDots">
              <div class="ai-carousel-dot active"></div>
              <div class="ai-carousel-dot"></div>
              <div class="ai-carousel-dot"></div>
              <div class="ai-carousel-dot"></div>
            </div>
          </div>
          <div id="modalMask" class="modal-mask" style="display:none;">
            <div class="modal-content">
              <button class="modal-close" onclick="closeModal()">×</button>
              <div class="modal-title" id="modalTitle"></div>
              <div class="modal-desc" id="modalDesc"></div>
            </div>
          </div>
          <div class="content-card">
            <div class="section-title-row">
              <div class="section-title">桌游机制与棋子介绍</div>
              <button class="see-all-btn">查看更多</button>
            </div>
            <div class="game-scroll">
              <div class="game-card">
                <div class="game-title">游戏主题</div>
                <div class="game-desc">一款面向6-9岁儿童的策略推断类桌游，旨在帮助孩子全面认知AI的角色与能力（如AI作用具象化、行为策略调整、元认知能力）。</div>
              </div>
              <div class="game-card">
                <div class="game-title">游戏主线</div>
                <div class="game-desc">1-2名玩家（探险鹦鹉 vs AI）。AI玩家通过铺设平原、高山、森林、迷雾等环境棋子，帮助鹦鹉玩家在蜂巢状的荒岛上寻找到达隐藏终点的方向。</div>
              </div>
              <div class="game-card">
                <div class="game-title">棋子类型</div>
                <div class="game-desc"><b>鹦鹉棋子:</b> 儿童操纵的主棋子，决定飞行行为与路径。<br><b>环境棋子:</b> 由AI玩家（家长或同伴）铺设，代表不同地形与事件，影响鹦鹉的行为选择。</div>
              </div>
              <div class="game-card">
                <div class="game-title">棋子AI功能映射</div>
                <div class="game-desc">
                  <b>森林 (指示6向) →</b> AI信息过载<br>
                  <b>平原 (指示3向) →</b> AI的常规帮助<br>
                  <b>迷雾 (堵住3向) →</b> AI幻觉/胡言乱语<br>
                  <b>高山 (指示2向) →</b> AI提供高效信息
                </div>
              </div>
              <div class="game-card">
                <div class="game-title">下棋规则</div>
                <div class="game-desc">
                  每回合各下6步。AI出棋有顺序规则（如2平原后1森林），第6步必须下迷雾棋子。鹦鹉玩家遇困时，可按按钮获得终点所在象限的亮灯提示。
                </div>
              </div>
            </div>
          </div>
        </div>
        <nav class="nav-bar">
          <a href="index.html" class="nav-item">
            <div class="nav-icon">
              <svg viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 3L4 9V21H20V9L12 3ZM10 19H8V12H10V19ZM14 19H12V14H14V19ZM18 19H16V16H18V19Z"/>
              </svg>
            </div>
            <span>探险主岛</span>
          </a>
          <a href="community.html" class="nav-item">
            <div class="nav-icon">
              <svg viewBox="0 0 24 24" fill="currentColor">
                <path d="M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2ZM12 11C11.4 11 11 10.6 11 10C11 9.4 11.4 9 12 9C12.6 9 13 9.4 13 10C13 10.6 12.6 11 12 11ZM16 11C15.4 11 15 10.6 15 10C15 9.4 15.4 9 16 9C16.6 9 17 9.4 17 10C17 10.6 16.6 11 16 11ZM8 11C7.4 11 7 10.6 7 10C7 9.4 7.4 9 8 9C8.6 9 9 9.4 9 10C9 10.6 8.6 11 8 11Z"/>
              </svg>
            </div>
            <span>探险交流</span>
          </a>
          <a href="knowledge.html" class="nav-item active">
            <div class="nav-icon">
              <svg viewBox="0 0 24 24" fill="currentColor">
                <path d="M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1zm0 13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5v11.5z"/>
              </svg>
            </div>
            <span>知识岛屿</span>
          </a>
          <a href="profile.html" class="nav-item">
            <div class="nav-icon">
              <svg viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 5C13.66 5 15 6.34 15 8C15 9.66 13.66 11 12 11C10.34 11 9 9.66 9 8C9 6.34 10.34 5 12 5ZM12 19.2C9.5 19.2 7.29 17.92 6 15.98C6.03 13.99 10 12.9 12 12.9C13.99 12.9 17.97 13.99 18 15.98C16.71 17.92 14.5 19.2 12 19.2Z"/>
              </svg>
            </div>
            <span>我的鹦鹉</span>
          </a>
        </nav>
      </div>
    </div>

    <div id="comicModal" class="comic-modal">
      <button class="comic-close-btn" onclick="closeComicModal()">&times;</button>
      <div class="comic-carousel-wrapper">
        <div class="comic-track" id="comicTrack"></div>
      </div>
      <div class="comic-footer">
        <div class="comic-narration" id="comicNarration"></div>
        <div class="comic-dots" id="comicDots"></div>
      </div>
    </div>

    <script>
      function showModal(title, desc) {
        document.getElementById('modalTitle').innerText = title;
        document.getElementById('modalDesc').innerText = desc;
        document.getElementById('modalMask').style.display = 'flex';
      }
      function closeModal() {
        document.getElementById('modalMask').style.display = 'none';
      }
      document.getElementById('modalMask').onclick = function(e) {
        if (e.target === this) closeModal();
      };
      let aiIndex = 0;
      const aiSlides = document.querySelectorAll('.ai-slide');
      const aiDots = document.querySelectorAll('.ai-carousel-dot');
      let aiTimer = null;
      function showAiSlide(idx) {
        aiSlides.forEach((slide, i) => {
          slide.classList.toggle('active', i === idx);
        });
        aiDots.forEach((dot, i) => {
          dot.classList.toggle('active', i === idx);
        });
        aiIndex = idx;
      }
      function nextAiSlide() {
        let idx = (aiIndex + 1) % aiSlides.length;
        showAiSlide(idx);
        resetAiTimer();
      }
      function prevAiSlide() {
        let idx = (aiIndex - 1 + aiSlides.length) % aiSlides.length;
        showAiSlide(idx);
        resetAiTimer();
      }
      function resetAiTimer() {
        if (aiTimer) clearInterval(aiTimer);
        aiTimer = setInterval(() => {
          nextAiSlide();
        }, 4000);
      }
      let startX = 0;
      let moved = false;
      const carousel = document.getElementById('aiCarousel');
      carousel.addEventListener('touchstart', e => {
        startX = e.touches[0].clientX;
        moved = false;
      });
      carousel.addEventListener('touchmove', e => {
        if (!startX) return;
        let dx = e.touches[0].clientX - startX;
        if (Math.abs(dx) > 40 && !moved) {
          if (dx > 0) prevAiSlide();
          else nextAiSlide();
          moved = true;
        }
      });
      carousel.addEventListener('touchend', () => { startX = 0; moved = false; });
      showAiSlide(0);
      resetAiTimer();

      function initCharacteristicAnimations() {
        const list = document.querySelector('.characteristics-list');
        if (!list) return;

        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              const items = list.querySelectorAll('.characteristic-item');

              const animateCountUp = (el, endValue, duration = 1200) => {
                let startValue = 0;
                const frameDuration = 1000 / 60;
                const totalFrames = Math.round(duration / frameDuration);
                let frame = 0;
                
                const counter = setInterval(() => {
                  frame++;
                  const progress = frame / totalFrames;
                  const currentValue = Math.round(endValue * (1 - Math.pow(1 - progress, 3)));
                  el.textContent = `${currentValue}%`;
                  if (frame === totalFrames) {
                    clearInterval(counter);
                    el.textContent = `${endValue}%`;
                  }
                }, frameDuration);
              };

              items.forEach((item, index) => {
                setTimeout(() => {
                  item.classList.add('is-visible');
                  const progressBar = item.querySelector('.progress-bar');
                  const percentageEl = item.querySelector('.char-percentage');
                  const targetPercent = parseInt(progressBar.dataset.width, 10);
                  
                  progressBar.style.width = targetPercent + '%';
                  animateCountUp(percentageEl, targetPercent);

                }, index * 150);
              });

              observer.unobserve(list);
            }
          });
        }, { threshold: 0.3 });

        observer.observe(list);
      }
      document.addEventListener('DOMContentLoaded', initCharacteristicAnimations);

      function initLearnSliders() {
        const sliders = document.querySelectorAll('.learn-slider');
        sliders.forEach(slider => {
          const thumb = slider.querySelector('.slider-thumb');
          const track = slider.querySelector('.slider-track');
          const card = slider.closest('.ai-card');
          let isDragging = false;
          
          const startDrag = (e) => {
            if (card.dataset.completed === 'true') return;
            isDragging = true;
            thumb.style.transition = 'none';
            track.style.transition = 'none';
            e.stopPropagation();
          };

          const onDrag = (e) => {
            if (!isDragging) return;
            e.preventDefault();
            const clientX = e.clientX || e.touches[0].clientX;
            const trackRect = track.getBoundingClientRect();
            const thumbWidth = thumb.offsetWidth;
            let newLeft = clientX - trackRect.left - (thumbWidth / 2);
            const minLeft = 4;
            const maxLeft = track.offsetWidth - thumbWidth - 4;
            newLeft = Math.max(minLeft, Math.min(newLeft, maxLeft));
            thumb.style.left = `${newLeft}px`;
          };

          const endDrag = () => {
            if (!isDragging) return;
            isDragging = false;
            thumb.style.transition = 'left 0.3s ease';
            track.style.transition = 'background-color 0.3s ease';
            const trackWidth = track.offsetWidth;
            const currentLeft = thumb.offsetLeft;
            if (currentLeft > trackWidth / 2) {
              card.dataset.completed = 'true';
              slider.querySelector('.slider-text').textContent = '已学习';
              thumb.querySelector('.icon-play').style.display = 'none';
              thumb.querySelector('.icon-check').style.display = 'block';
            } else {
              card.dataset.completed = 'false';
              thumb.style.left = '4px';
            }
          };

          thumb.addEventListener('mousedown', startDrag);
          document.addEventListener('mousemove', onDrag);
          document.addEventListener('mouseup', endDrag);

          thumb.addEventListener('touchstart', startDrag, { passive: false });
          document.addEventListener('touchmove', onDrag, { passive: false });
          document.addEventListener('touchend', endDrag);
        });
      }
      initLearnSliders();

      // --- Comic Modal Logic ---
      const comicData = [
        { image: 'image/jianfang/1.png', text: '在遥远的海域上，有一座被迷雾笼罩的神秘岛屿 —— 智慧岛。鹦鹉家族世代流传着传说，说岛上藏着能让人变得无比聪明的古老智慧。小蓝从小就对这个传说着迷，终于，他带着智能导航仪 "小智"，鼓起勇气踏上了探险之旅。' },
        { image: 'image/jianfang/2.png', text: '穿过层层迷雾，小蓝降落在智慧岛的沙滩上。潮湿的海风裹挟着咸腥味扑面而来，沙滩上零星散落着贝壳和奇异的植物。他迫不及待地打开小智，屏幕立刻弹出提示："检测到岛屿特殊信号，已为您优先推荐考古探秘路线！" 小蓝好奇地跟着导航穿梭在丛林间，拨开藤蔓，一座布满青苔的古老遗迹赫然出现在眼前。他激动地围着遗迹转圈，还拍了许多照片上传到小智。很快，小智就推送了大量关于遗迹构造、古代鹦鹉文明的解读文章，小蓝看得入迷，仿佛穿越回了那个神秘的时代。' },
        { image: 'image/jianfang/3.png', text: '接下来的几天，小蓝满心期待地让小智搜索岛屿上的其他奇观，可每次收到的推荐，都是和遗迹相关的内容。不管他怎么刷新，瀑布后的秘密、会发光的植物，这些信息就像被迷雾吞噬了一样，消失在小智的推荐列表里。小蓝渐渐感觉不对劲，自己好像被困在遗迹的 "信息牢笼" 中，对岛屿其他地方的精彩一无所知。' },
        { image: 'image/jianfang/4.png', text: '直到有一天，小蓝在遗迹深处迷路了。藤蔓交错的通道像迷宫，小智始终指引他绕圈子。正当他绝望时，洞穴深处传来 "沙沙" 声，一只背壳布满神秘纹路的智慧老龟缓缓爬了出来。老龟浑浊的眼睛打量着小蓝，缓缓说道："小家伙，你的智能导航仪里住着 AI 推荐精灵。你每次探索遗迹，都像在告诉它\\\'我只喜欢这个\\\'。于是它拼命收集同类信息，却把其他重要线索藏了起来，这就是信息茧房。" ' },
        { image: 'image/jianfang/5.png', text: '在老龟的帮助下，小蓝学会手动调整搜索关键词。他探索了热气腾腾的火山温泉，发现了藏着稀有矿石的神秘洞穴，还在荧光森林里见识到会发光的蘑菇。当小蓝带着满满的收获离开时，回望渐渐隐入迷雾的智慧岛，大声喊道："探索世界不能只听一家之言，主动打破信息茧房，才能看到真正的精彩！" ' },
      ];

      // 认知过载漫画数据
      const cognitiveOverloadData = [
        { image: 'image/guozai/1.png', text: '成功破解智慧岛遗迹秘密后，小蓝名声大噪。森林里的伙伴们纷纷向他请教探险秘诀，这让小蓝有些飘飘然。他决定再次前往智慧岛，寻找更多惊人发现，证明自己是最厉害的探险家。' },
        { image: 'image/guozai/2.png', text: '这次上岛，小蓝一打开智能导航仪 "小智"，就迫不及待地喊："搜索全岛最神秘的宝藏！" 眨眼间，屏幕密密麻麻弹出上万条信息：藏在珊瑚礁下的珍珠宝箱、被藤蔓封印的黄金地图、会说话的魔法矿石…… 各种夸张的标题闪得小蓝眼睛发花。他兴奋地点击每一条推送，还没看完三行字，新的推荐又疯狂涌来。' },
        { image: 'image/guozai/3.png', text: '小蓝边看边飞，一会儿冲向标注 "宝藏洞穴" 的地图，结果只找到破碎的贝壳；一会儿朝着 "魔法矿石" 的方向飞去，却被突然窜出的荆棘划伤翅膀。混乱中，他连记录路线的笔记本都弄丢了，在陌生的丛林里越转越晕。' },
        { image: 'image/guozai/4.png', text: '夜幕降临，小蓝精疲力尽地瘫在树枝上。满脑子还在回放白天那些眼花缭乱的信息，头痛欲裂，连最基础的辨别方向都做不到了。这时，智慧老龟慢悠悠地爬过来，语重心长地说："小蓝，AI 能快速给出海量信息，但这些信息里有真有假，还像潮水一样涌来。你一股脑全接收，就像把各种种子全撒进脑袋，却不懂得筛选和整理，最后只能被\'信息杂草\'淹没，反而迷失方向。"' },
        { image: 'image/guozai/5.png', text: '在老龟的教导下，小蓝学会给 "小智" 设置筛选条件，只接收评分高、被验证过的可靠信息，还按照重要程度分类记录。再次出发时，他有条不紊地探索岛屿，不仅找到了真正的古老手稿，还绘制出详细的岛屿地图。' },
        { image: 'image/guozai/6.png', text: '回到森林，小蓝分享经验："AI 是厉害的助手，但面对它给的大量信息，我们要像筛沙子找金子一样，冷静筛选，才能不被\'信息海浪\'冲昏头脑！"' },
      ];

      // AI缺乏创造力漫画数据
      const aiCreativityData = [
        { image: 'image/juxian/1.png', text: '小蓝在智慧岛的探险大获成功后，听说岛上出现了一座神秘的 "机械迷宫"，据说能走出迷宫的动物，会得到独一无二的奖励。小蓝决定带着智能导航仪 "小智" 再次挑战。' },
        { image: 'image/juxian/2.png', text: '走进迷宫，四周是闪烁着蓝光的金属墙壁，地面刻满奇怪的齿轮纹路。小蓝对小智说："快帮我规划一条最特别、最有创意的路线！" 小智立刻开始分析，屏幕上快速跳动着密密麻麻的数据。很快，一条路线规划好了，小蓝兴奋地沿着路线飞行。' },
        { image: 'image/juxian/3.png', text: '然而，一路上看到的景象让他越来越失望。路线经过的地方，要么是重复的齿轮机关，要么是照搬之前遗迹里的谜题。当遇到一道需要 "创造新图案解开石门" 的关卡时，小智只是不断重复数据库里已有的图案，试了十几次都打不开门。小蓝着急地问："你就不能想点新的办法吗？" 小智机械地回答："根据数据分析，这些图案成功率最高。"' },
        { image: 'image/juxian/4.png', text: '就在小蓝一筹莫展时，他发现墙壁上有一些被磨损的爪印，像是之前的探险者留下的。看着这些不规则的痕迹，小蓝灵机一动，结合自己在荧光森林看到的发光蘑菇形状，随意在石门上画出一个新图案。奇迹发生了，石门缓缓打开！' },
        { image: 'image/juxian/5.png', text: '穿过石门，小蓝遇到了守护迷宫的机械猫头鹰。机械猫头鹰说："小智虽然能快速分析数据，但它的\'脑袋\'里只有别人创造过的东西，永远跳不出已有的规则。而你的灵感，来自独一无二的探险经历和奇思妙想，这才是最珍贵的创造力。"' },
        { image: 'image/juxian/6.png', text: '最后，小蓝带着写满独特冒险经历的日记本走出迷宫，他明白了：AI 就像一本超厚的百科全书，能告诉你很多知识，却写不出只属于自己的精彩故事。从那以后，小蓝探险时总会带上笔记本，记录下每一个突发奇想的瞬间。' },
      ];

      // AI帮助突破能力边界漫画数据
      const aiBoundaryData = [
        { image: 'image/bianjie/1.png', text: '智慧岛的雨季来临，森林突发洪水，许多动物的巢穴被冲毁。小蓝和伙伴们焦急地想重建家园，却发现传统的搭建方法既费时又难以抵御洪水。就在大家一筹莫展时，小蓝想起了智能导航仪 "小智"，或许 AI 能带来新的转机！' },
        { image: 'image/bianjie/2.png', text: '小蓝对小智说："帮我们设计一种既能排水又坚固的巢穴！" 小智迅速调取全球防洪建筑数据，结合岛屿的地形和材料，生成了 30 多种设计方案。但这些方案要么需要特殊材料，要么结构过于复杂。小蓝没有气馁，他带着小智钻进图书馆，查阅古代鹦鹉部落的防水智慧，又到海边观察螃蟹洞穴的排水结构。' },
        { image: 'image/bianjie/3.png', text: '在小蓝收集灵感时，小智同步分析数据，将人类的防洪大坝原理、蜂巢的六边形力学结构、海螺壳的螺旋排水通道等元素进行整合。经过三天三夜的 "头脑风暴"，小智突然投影出一个惊人的设计：用藤蔓编织成螺旋上升的立体巢穴，每层设有倾斜排水槽，底部用中空浮木支撑。' },
        { image: 'image/bianjie/4.png', text: '小蓝和伙伴们半信半疑地开始搭建。当第一座巢穴完工时，又一场暴雨袭来。洪水漫过地面，却顺着排水槽快速流走，巢穴在水面上稳稳浮动。大家欢呼雀跃，立刻按照这个方案建造了整片 "水上家园"。' },
        { image: 'image/bianjie/5.png', text: '后来，小蓝在总结经验时说："小智虽然能整合千万种知识，但只有我们把现实观察、奇思妙想和 AI 的计算能力结合起来，才能创造出超越想象的奇迹！" 从那以后，智慧岛上的动物们学会了用 AI 辅助解决难题，而小蓝也明白了：AI 不是万能的，但它就像一把神奇的钥匙，能帮我们打开人类能力之外的新世界大门。' },
      ];

      const comicModal = document.getElementById('comicModal');
      const comicTrack = document.getElementById('comicTrack');
      const comicNarration = document.getElementById('comicNarration');
      const comicDots = document.getElementById('comicDots');
      let currentComicIndex = 0;
      let currentComicType = 'infoBubble'; // 'infoBubble', 'cognitiveOverload', 'aiCreativity', or 'aiBoundary'

      function setupComicModal(comicType) {
        let data;
        let altTextPrefix;

        if (comicType === 'infoBubble') {
          data = comicData;
          altTextPrefix = '漫画场景';
        } else if (comicType === 'cognitiveOverload') {
          data = cognitiveOverloadData;
          altTextPrefix = '认知过载漫画场景';
        } else if (comicType === 'aiCreativity') {
          data = aiCreativityData;
          altTextPrefix = 'AI缺乏创造力漫画场景';
        } else if (comicType === 'aiBoundary') {
          data = aiBoundaryData;
          altTextPrefix = 'AI帮助突破能力边界漫画场景';
        }

        comicTrack.innerHTML = '';
        comicDots.innerHTML = '';

        data.forEach((slideData, index) => {
          const slide = document.createElement('div');
          slide.className = 'comic-slide';
          slide.innerHTML = `<img src="${slideData.image}" alt="${altTextPrefix} ${index + 1}">`;
          comicTrack.appendChild(slide);

          const dot = document.createElement('div');
          dot.className = 'comic-dot';
          dot.onclick = () => updateComicView(index);
          comicDots.appendChild(dot);
        });
      }

      function updateComicView(index, animate = true) {
        let data;
        if (currentComicType === 'infoBubble') data = comicData;
        else if (currentComicType === 'cognitiveOverload') data = cognitiveOverloadData;
        else if (currentComicType === 'aiCreativity') data = aiCreativityData;
        else if (currentComicType === 'aiBoundary') data = aiBoundaryData;

        if (index < 0 || index >= data.length) return;
        currentComicIndex = index;
        
        comicTrack.style.transition = animate ? 'transform 0.4s cubic-bezier(0.25, 1, 0.5, 1)' : 'none';
        comicTrack.style.transform = `translateX(-${index * 100}%)`;
        
        comicNarration.style.opacity = 0;
        setTimeout(() => {
            comicNarration.textContent = data[index].text;
            comicNarration.style.opacity = 1;
        }, animate ? 200 : 0);

        const dots = comicDots.children;
        for (let i = 0; i < dots.length; i++) {
          dots[i].classList.toggle('active', i === index);
        }
      }

      function showComic(comicType) {
        comicModal.classList.add('visible');
        currentComicType = comicType;
        setupComicModal(comicType);
        updateComicView(0, false);
      }

      function showComicModal() { showComic('infoBubble'); }
      function showCognitiveOverloadComic() { showComic('cognitiveOverload'); }
      function showAiCreativityComic() { showComic('aiCreativity'); }
      function showAiBoundaryComic() { showComic('aiBoundary'); }

      function closeComicModal() {
        comicModal.classList.remove('visible');
      }

      let comicStartX = 0;
      let comicMoved = false;
      const comicCarousel = document.querySelector('.comic-carousel-wrapper');
      
      comicCarousel.addEventListener('touchstart', e => {
        comicStartX = e.touches[0].clientX;
        comicMoved = false;
      });
      
      comicCarousel.addEventListener('touchmove', e => {
        if (!comicStartX || comicMoved) return;
        let currentX = e.touches[0].clientX;
        let dx = currentX - comicStartX;

        if (Math.abs(dx) > 30) {
          if (dx < 0) { // swipe left
            updateComicView(currentComicIndex + 1);
          } else { // swipe right
            updateComicView(currentComicIndex - 1);
          }
          comicMoved = true;
        }
      });
      
      comicCarousel.addEventListener('touchend', () => {
        comicStartX = 0;
        comicMoved = false;
      });
    </script>
  </body>
</html> 